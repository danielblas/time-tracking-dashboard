{"version":3,"sources":["script.js"],"names":["fetch","then","response","json","data","tab","document","getElementsByClassName","i","length","addEventListener","isActive","current","className","replace","this","request","XMLHttpRequest","open","responseType","send","onload","obj","value","innerHTML","toLowerCase","cards","previous","strg1","strg2","strg3","hours","timeframes","last","textContent","populatePage"],"mappings":"AAAA,aAAAA,MAAM,aACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAKF,IAJA,IAAIC,EAAMC,SAASC,uBAAuB,OAIjCC,EAAI,EAAGA,EAAIH,EAAII,OAAQD,IAC5BH,EAAIG,GAAGE,iBAAiB,QAASC,GAErC,SAASA,IAEL,IAAIC,EAAUN,SAASC,uBAAuB,UAC1CK,EAAQH,OAAS,IACjBG,EAAQ,GAAGC,UAAYD,EAAQ,GAAGC,UAAUC,QAAQ,UAAW,KAEnEC,KAAKF,WAAa,UAGlB,IAEIG,EAAU,IAAIC,eAElBD,EAAQE,KAAK,MAJI,uFAKjBF,EAAQG,aAAe,OACvBH,EAAQI,OAERJ,EAAQK,OAAS,YAUjB,SAAsBC,GASlB,IANA,IACIC,EADSjB,SAASC,uBAAuB,UAAU,GACpCiB,UAAUC,cAIzBC,EAAQpB,SAASC,uBAAuB,QACnCC,EAAI,EAAGA,EAAIkB,EAAMjB,OAAQD,IAAK,CAGnC,IAAII,EAAUc,EAAMlB,GAAGD,uBAAuB,2BAA2B,GACrEoB,EAAWD,EAAMlB,GAAGD,uBAAuB,0BAA0B,GAIrEqB,OAAK,EACLC,OAAK,EACLC,OAAK,EAET,OAAQP,GACJ,IAAK,QACDK,EAAQ,cACR,MAEJ,IAAK,SACDA,EAAQ,eACR,MAEJ,IAAK,UACDA,EAAQ,gBAIhB,IAAIG,EAAQT,EAAId,GAAGwB,WAAWT,GAAOX,QAEjCiB,EADS,GAATE,EACQA,EAAQ,KAERA,EAAQ,MAEpB,IAAIE,EAAOX,EAAId,GAAGwB,WAAWT,GAAOI,SAEhCG,EADQ,GAARG,EACQA,EAAO,KAEPA,EAAO,MAKnBrB,EAAQsB,YAAcL,EACtBF,EAASO,YAAcN,EAAQE,GAxDnCK,CAHanB,EAAQd","file":"script.js","sourcesContent":["fetch('data.json')\n    .then(response => response.json())\n    .then(data => {\n        let tab = document.getElementsByClassName(\"tab\");\n\n\n        // Switch the active class so only one tab can be active\n        for (var i = 0; i < tab.length; i++) {\n            tab[i].addEventListener(\"click\", isActive);\n        }\n        function isActive() {\n            //console.log(this);\n            var current = document.getElementsByClassName(\"active\");\n            if (current.length > 0) {\n                current[0].className = current[0].className.replace(\" active\", \"\");\n            }\n            this.className += \" active\";\n            //console.log(this.className);\n\n            let requestURL = \"https://raw.githubusercontent.com/danielblas/time-tracking-dashboard/main/data.json\";\n\n            let request = new XMLHttpRequest();\n\n            request.open('GET', requestURL);\n            request.responseType = 'json';\n            request.send();\n\n            request.onload = function () {\n                // Put the data inside a variable\n                const data = request.response;\n\n                // Create functions to handle the data\n                populatePage(data);\n\n\n            }\n\n            function populatePage(obj) {\n\n                // get the active tab (daily, weekly, monthly)\n                let active = document.getElementsByClassName(\"active\")[0];\n                let value = active.innerHTML.toLowerCase();\n                //console.log(value);\n\n\n                let cards = document.getElementsByClassName(\"card\");\n                for (var i = 0; i < cards.length; i++) {\n                    //console.log(cards[i]);\n                    //get the elements\n                    let current = cards[i].getElementsByClassName('card__main__data__hours')[0];\n                    let previous = cards[i].getElementsByClassName('card__main__data__last')[0];\n\n                    //logic\n\n                    let strg1;\n                    let strg2;\n                    let strg3;\n\n                    switch (value) {\n                        case 'daily':\n                            strg1 = 'Last Day - '\n                            break;\n\n                        case 'weekly':\n                            strg1 = 'Last Week - '\n                            break;\n\n                        case 'monthly':\n                            strg1 = 'Last Month - '\n                            break;\n\n                    }\n                    let hours = obj[i].timeframes[value].current;\n                    if (hours == 1) {\n                        strg2 = hours + \"hr\";\n                    } else {\n                        strg2 = hours + \"hrs\";\n                    }\n                    let last = obj[i].timeframes[value].previous;\n                    if (last == 1) {\n                        strg3 = last + \"hr\";\n                    } else {\n                        strg3 = last + \"hrs\";\n                    }\n\n                    //change the elements\n\n                    current.textContent = strg2;\n                    previous.textContent = strg1 + strg3;\n                    //console.log(current.textContent, previous.textContent);\n\n                }\n            }\n        }\n    })"]}